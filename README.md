## 概述

這是一個用於計算學期 GPA 與學期成績的網站。它可以根據用戶輸入或**上傳 PDF 檔案**中的科目、成績和學分，計算出學期總學分、學期成績以及學期 GPA，並且可算出這幾學期的總學分、平均成績以及平均 GPA 並顯示折線圖圖表。

**主要功能**

  * 計算學期總學分
  * 計算學期成績
  * 計算學期GPA
  * 提供高科與台灣的學期GPA計算方式
  * **透過上傳校務系統的成績單 PDF 檔案來自動匯入成績**
  * 易懂的折線圖圖表
  * 電子郵件驗證
  * 管理者功能，包括學生帳號管理

**技術細節**

  * 使用 PHP 編程語言開發
  * **整合 Python 腳本，透過 `pdfplumber` 函式庫解析 PDF 成績單**
  * 提供簡單的表單界面
  * 自動計算每門科目的 GPA
  * 根據高科標準分類
  * 顯示學期總學分、學期成績、學期 GPA 和高科學期 GPA 計算方式
  * 使用電子郵件驗證方式
  * 使用符號轉譯防止 SQL 注入
  * 密碼使用哈希加密

**網站功能說明**

1.  **登入與註冊**:

      - 可登入帳號
      - 可顯示或隱藏密碼
      - 可透過電子郵件驗證註冊帳號，驗證成功之前無法登入與修改密碼
      - 忘記密碼時可透過帳號驗證傳電子郵件來修改密碼
      - 密碼每錯誤三次會鎖住，錯誤次數越多鎖越久
      - 密碼超過7天未更新會提醒
      - 電子郵件與帳號只能有一組
      - 使用符號轉譯來防止 SQL 注入
      - 密碼使用哈希加密

2.  **科目成績管理**:

      - 新增多個科目成績學分來計算每科 GPA 與本學期平均 GPA、成績、獲得學分
      - **支援上傳成績單 PDF 檔案，自動解析並批量匯入多學期的成績**
      - 可選擇學年度與排列方式與 GPA 計算方式
      - 計算總學分，並查看每學期的成績、學分和 GPA 的折線圖圖表
      - 刪除資料或修改資料

3.  **主頁面**:

      - 右上角有各種功能，例如換算公式、修改密碼（直接修改，不需任何驗證）、修改電子郵件（需新信箱驗證）
      - 刪除登入帳號會詢問，確定後將刪除所有相關資料
      - **新增「上傳檔案」按鈕，導向至 PDF 上傳介面**

4.  **管理者功能**:

      - 管理者帳號可查看所有學生帳號並做任何修改（除密碼與電子郵件）
      - 管理者帳號可刪除學生帳號，註冊新的管理者帳號（當管理者帳號剩一個時不能刪除）

5.  **安全性**:

      - 在未登入網站時使用登入後的功能或進登入後的頁面會自動導回登入網站畫面
      - 忘記密碼的修改密碼傳一封信只能修改一次
      - 閒置一小時後自動退出

## 網站開啟方式

要運行這個網站，您需要一個 **Web 伺服器環境**，例如 XAMPP (推薦，因為它整合了 Apache 和 MySQL/MariaDB) 或 Laragon。此外，您還需要 **Python 環境** 來處理 PDF 檔案。

### 步驟 1：下載並安裝 XAMPP (或其他 Web 伺服器)

如果您尚未安裝 XAMPP，請前往 [XAMPP 官方網站](https://www.apachefriends.org/index.html) 下載並安裝。安裝過程請選擇預設選項，除非您有特定需求。

### 步驟 2：複製專案檔案到伺服器目錄

1.  **下載您的專案程式碼：**
    從您的 GitHub 儲存庫下載整個專案為 ZIP 檔案，然後解壓縮。

2.  **將專案放置到 XAMPP 的 Web 伺服器根目錄：**
    將解壓縮後的 `GPA-website` 資料夾，複製到 XAMPP 的 `htdocs` 目錄下。
    通常路徑會是：`C:\xampp\htdocs\GPA-website\`

### 步驟 3：啟動 XAMPP 服務

1.  開啟 **XAMPP 控制面板**。

2.  點擊 **Apache** 模組旁邊的 `Start` 按鈕，啟動 Apache Web 伺服器。

3.  點擊 **MySQL** 模組旁邊的 `Start` 按鈕，啟動 MySQL 資料庫服務 (您的程式碼使用 MariaDB，它與 MySQL 相容)。

      * **注意：** 如果 MySQL 無法啟動，可能是 **3306 埠號被佔用**。請檢查是否有其他程式 (如 Skype) 佔用此埠號，並將其關閉。您也可以在 XAMPP 的 `my.ini` 檔案中修改 MySQL 的埠號，但同時需要更新您程式碼中資料庫連接的埠號。

### 步驟 4：設定資料庫並匯入 SQL 檔案

1.  **進入 phpMyAdmin：**
    在 XAMPP 控制面板中，點擊 MySQL 模組旁邊的 **`Admin`** 按鈕。這會開啟您的瀏覽器並進入 phpMyAdmin 介面。

2.  **建立新資料庫：**
    在 phpMyAdmin 左側的導航欄中，點擊 **「新增」** 或在頂部點擊 **「資料庫」** 選項卡。

      * 輸入您的資料庫名稱，根據您程式碼中的使用，建議命名為 `c112151111`。
      * 字元集 (Collation) 可以選擇 `utf8mb4_unicode_ci` (推薦)。
      * 點擊「建立」。

3.  **匯入您的 SQL 檔案：**

      * 選擇您剛建立的 `c112151111` 資料庫。
      * 在頂部選單點擊 **「匯入」** 選項卡。
      * 點擊「選擇檔案」，然後瀏覽到您的專案資料夾中找到 `SQL` 檔案 (例如 `your_database_dump.sql` 或類似名稱)。
      * 點擊右下角的「執行」按鈕。這會將資料表結構和預設資料匯入到您的資料庫中。

### 步驟 5：安裝 Python 環境與函式庫

1.  **安裝 Python：**
    您的專案需要 Python 來執行 PDF 解析腳本。如果您的系統沒有安裝 Python，請前往 [Python 官方網站](https://www.python.org/downloads/) 下載並安裝最新版本。**安裝時請務必勾選「Add Python to PATH」選項**。

2.  **安裝 Python 函式庫：**
    開啟您的命令提示字元 (CMD) 或終端機，並導航到您的專案根目錄：

    ```bash
    cd C:\xampp\htdocs\GPA-website\
    ```

    然後執行以下指令安裝 `pdfplumber` 函式庫：

    ```bash
    pip install pdfplumber
    ```

3.  **檢查 Python 路徑設定：**
    開啟您的 `process_pdf_upload.php` 檔案，確保 `$python_executable` 變數設定為您系統上 Python 可執行檔的完整路徑，例如：

    ```php
    $python_executable = 'C:/Users/USER/AppData/Local/Programs/Python/Python312/python.exe';
    ```

### 步驟 6：透過瀏覽器開啟網站

1.  開啟您的 Web 瀏覽器 (例如 Chrome, Firefox)。
2.  在網址列輸入：http://localhost/GPA-website/GPA\_login.php

現在，您應該能夠看到 GPA 計算網站的登入頁面了！
